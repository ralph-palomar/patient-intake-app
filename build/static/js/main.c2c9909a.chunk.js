(this["webpackJsonppatient-intake"]=this["webpackJsonppatient-intake"]||[]).push([[0],{289:function(e,t,a){e.exports=a(675)},520:function(e,t,a){},675:function(e,t,a){"use strict";a.r(t),a.d(t,"cookies",(function(){return ze})),a.d(t,"login",(function(){return Be})),a.d(t,"register",(function(){return Me})),a.d(t,"createAccount",(function(){return Re})),a.d(t,"back",(function(){return He})),a.d(t,"logout",(function(){return Ve})),a.d(t,"validatePasswords",(function(){return Ue})),a.d(t,"callApi",(function(){return Qe})),a.d(t,"showAlert",(function(){return Ge})),a.d(t,"formatDate",(function(){return Ye})),a.d(t,"formatTime",(function(){return Ze})),a.d(t,"formatToDateString",(function(){return Xe})),a.d(t,"formatToTimeString",(function(){return Ke})),a.d(t,"setLoginCookie",(function(){return Je})),a.d(t,"_default",(function(){return $e})),a.d(t,"getUrlParameter",(function(){return et})),a.d(t,"ConfirmDialog",(function(){return at}));var n=a(171),l=a.n(n),i=a(10),r=a(11),o=a(13),s=a(12),c=a(280),u=(a(290),a(197),a(338),a(518),a(519),a(520),"https://www.tes8.link/user-management/api"),m="Basic UTVvYzA0OEpMWXBncXh5dVpGOVJrUUdFZkVuWDZrV3U6cVpDZGJzNDNnREtXWVlUSFc2R1JWZ3I0YWQ3RU85QXQ=",d=1e4,f="/webapp/lifestyleclinic",p="none",v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAKCUlEQVR4XtVbaYxkVRX+zn31aq/urqpehq7uacdhQBynHRAGFDIRI5F/YqJiVBANIFHigkHQGBUTRROjI25BjcEBCbjEHyYikcSwhH2gzWwwwMB0V3VPL7XvVe/dY17VTDvdXd316r3bBO/fOvc73/3eucs59xZhk1tpYWGL0Bp7GbSTCecSzB1S0qCAiEjICKCxABclZEkIWmTwMSLxMkk+bHo9j0UiWxY2kyKpBmdmqqaTeySJTxLxFQCd584HH2IS/yLC/cH+sw4QEbvDW9lbmQDZ7OsDOns/D8LniHGOSpL/w+KjzPT7Ovy/icfjBRU+XAtQKCTjmoFbAL4ZEH0qSHXFkMiBcFdTM/YNDExku9pvYOBYAGYWlWzqBki6EwJRNyQc9zXlEoS4LRgbvYeIpBMcRwIUFlPnCg/tJ+Y9Tpyq7iOBJ3VhXusf2Ppar9g9C1DKzH4KMO8miFCvzjbXXhaI6fpgfOzPvfixLQAza5Vsch8gbu7FwZtty0Q/CQ2cdavdKWFLAOZXfJVc6D4wf/TNHpATfyRxfyCe+yzRzka3/l0FaA8+8HcwXdEN7K31Oz8UjOav6ibChgK0wj4394CSL282wLUcuFkCmjVAmgCbYCIQaYDmBfQgyN8P0sMAdf02XfVuR8LoNRtNhw29lDMzP3c155khK4tAIQWu57sSXjbQdIjwFiCSAHn89vt1sLTWhHB09GvrgawrgLXaE/g+x94bZZhLR4FGyTGEFQWifwLUP+EqIoj5Y8H42F86EekoQGuf1+QBp1sdVzOQC4cAdnQ2WcOT/FHQyLvaU8VRkwVN8AWdzglrBLBOeOXc3FNODzlcL0KefFHZ4E+PlwIxiOFdziPB5CeCg4m9q5OpNQKUM7M3Any3I6GtOZ96FmxUHXXv1klE3w7q39rNbN3fmfi6cHTsD2carBCgUJgd1Bp8zOnZnouzkOljjgl262hNATF2CaDp3Uw7/y7lYkMzzolGt+WWI+tMy3Im+X2AvukMHTBnnwMaZafdbfVzGwUgfCcUTXxvjQBWPu9lzwnHKa1ZhznzlK1BuDEibwRi9D3OISQyQalP0PBwa3tangKlTOo2An7oFJmracj5g0672+9HBG3rXueLoTVo5luC8bGfLgtglbHKudmX3FRyuHQScukl+wNxYamNX+p8HWj55UPBaGLS2hFaEVBZmrmYhXjaBSdwIQWZecUNhO2+InEJSHd7QuTzw9GxqZYApXTqZ0T4km0GHQxlIQnOvOoGwnZfbWwP4Anatu9kSMCPg7HErS0BypnkEbfVW2md9/+PIgCMqVA8cT5ZdXvyNOdcyWnNqtIc5NLLbmFs9dfG39fOHl0208ODVEknP85ED7rEAleW2uf/N6FpE9YuINx7IvoIldOpO0D4tls0rhcg515wC9O9v/BA23pZdztbFvwtKmVSDxBwtS37jYyMOszk5h+EoIegJS5yTdcCIPC9VM5MHwC0C1wjMsOcfgxgpTdXa2hRMN7OChU0Bj1DxaWZE0II5ynWGUTM1HNAc5Nzgb4xUOxsBcNvQbxK5aVUxmn2t5qFXDwCLm/qZS7E4DtAVrlMRSOetyKgKYTwqMDjwgxkpufLmZ5ca6MXAt5wT33WM5ZA1RLAFEIo2FPQqvrKk1NKyHUCadUDrB1AQcXYwpcSdSpmUhUBBJSwZglz+vHNWwgDUWgj71ZCtQ0iC1TOzM4CfJYqVNOKgNpywUUVbAtHRLe1K8SKminlCesg9CIIuxVhgvPTkNnjquBW4Kic/xYwEz1LxczM3wTEVcoYGxWYyWeVwS0DeXzQxt6rFJeBB6mcSf4AoG+oRDZnn3d3IdKBDPWNQ8S2q6RpHQW/qywZOpPZZtQGtMSFgHVnqLJZyVAlnRpnwrRKXOvis1UgZUMNrH8A2hZly9QyJ6lrI6cKIimrlqXsfNnaYHKvg3MnlAjQ2voCip8hSToYGhydPFUSS+4joi8rYXsKhNmEeeJJEExXsAb54JtQu/hZhAj4UTCWuL1dFM2kLmXgCVdMO3QuTU/Bb2RBwtldf7NpwPCPIDyuJvtbQVHQRaGB0edbzFpP3tJzxyBY6TJbnX8N2TemMDwU61kEwzAwP59BfNtuhEZVv7vko8FoYudyWdwSoZRJfd0KC5VR0MzPYe7Q4xAaYTAeha7by7lq1TrSmRykZIzu2gvvwKhKWiCirwajo/tOTYU2di53IuqRYsbpm4BODJuFkyi9fgCFQgkMRiQSRCQShqZ1zr0Mw0Q+X0S5XG0lPJFwCP3b90DvG1EpQL5ieseHhoaKKwRorQVLqTtZ4HZV3hrZGVSThyClRLFYgimlpT78AR/8Pi90vX3L22w2Ua3WUa/VYdWTrGQvHAq3IiY4Ngk9mlBFqXX4CUUTd5wGXLE65fMzMU9TvKqkQMIS5ePPwKi0EyNmRqVaQb3e3HAwHo8HoWAAmtZ+DeIJxRDatkdNCizlYl00dsRi25cfLHV4IJH6IoBfuJFcNmuopg7DKK6tDlmLW63eQLPRbE2L02FoDdzn88FrRcUqVtYUCCR2gjw+N7Ss7OeGUHz0d2eCdHoio5Wys08I4JJevMlGFUY53Rp0s7DQtSZg1U6tqQEwhCZAq0e9yrk1dTyREeh9w9DCMQi9txIGs3w8FBt7/+onc+s+kiJNviAg1r2AY6OOZjkDs5SGUUpDNiq96OXaVvMFoYXi8IQHW9OEPOvfFBFkUQjvbv/AyJo8ff1nctnkZ4jpnmWmptEecDmNZmkJsubi+Zvr4a8F0PwReMKWIPGWIDijzEnMVwfjY3/q5HbDI1p25j/7ZTF9jfWFzar1B43Nrfkr08V6ROHva0WHHor/tm9i8sb1sDd+Knv4sPdk6cgbXMsrK5kpG6QNIC0cnx6+YGA70eXrpqVdD+npV/7RZ2TKr5m1/KANn28ZEy3QP09vGzx7ePjyDedqVwGsEVkiNLPlo7KaV3sm3SS5rC9P4wM7uw3+9BZsiwYfPuxdqB9/yizOu79HtOXRmZHeN/LM4O7wZRuF/YbngG5uFw/+89fN3OxN1q3CW6kxCfZFR+8a3HXlV3rhZWsKrAZMH3nkikZx6a9cK0V6cbZZtuTry4fjWz4c2bH30V59OBLAcsL8b8/SVGV/o7jwCWLTMU6vhFfYC116+obvHZr0X2835Ff7c0385EsPbxPVxv5mcfFSYukaz44gTBrrfUOPapp+bXzXh2bs9HF0DugFOH3w4XFTGr80itkrYdYcvmbe2KPwBuqeQPwh9ga/MPTOva4fdvW0C9gVwyqv5Y48cl2zUbtJ1nKTslF3lcIJb7AmApEp3Rv81cB5H/ij3b/D2eW76SGbOfjYJKP6acOoX8xmYxuaZkxy3ceGoQlm6x9TkAwm3WMK8tbJ60uTph8XHv1p8mn3xnd88IjdwTix+y+qiOYJUn+4UAAAAABJRU5ErkJggg==",h=["Anxiety&/Depression","Cancer","Chronic Kidney Disease","Diabetes Mellitus","Fatty liver","Gouty Arthritis","Hypertension","Myocardial Infarction/Heart Attack","Obesity/Weight Problems","PCOS","Stress/Burnout","Stroke"],b=[{displayText:"Whole grains",id:"diet_wholegrains"},{displayText:"Fruits",id:"diet_fruits"},{displayText:"Vegetables",id:"diet_vegetables"},{displayText:"Beans/legumes",id:"diet_beans_legumes"},{displayText:"Nuts",id:"diet_nuts"},{displayText:"Seeds",id:"diet_seeds"},{displayText:"Water",id:"diet_water"},{displayText:"Meat (other than fish)",id:"diet_meat_notfish"},{displayText:"Egg",id:"diet_egg"},{displayText:"Soda",id:"diet_soda"},{displayText:"Milk",id:"diet_milk"},{displayText:"Chips",id:"diet_chips"},{displayText:"Fried Food",id:"diet_friedfood"},{displayText:"Cakes/pastries/crackers",id:"diet_cakes_pastries_crackers"},{displayText:"Chocolate",id:"diet_choc"},{displayText:"Bread",id:"diet_bread"},{displayText:"Cheese",id:"diet_cheese"},{displayText:"Fast food",id:"diet_fastfood"},{displayText:"Caffeinated drink",id:"diet_caff_drink"},{displayText:"Instant noodles",id:"diet_inst_nood"},{displayText:"Canned goods",id:"diet_can_goods"},{displayText:"Dairy-based dressing",id:"diet_dairy_dressing"},{displayText:"White rice",id:"diet_whiterice"},{displayText:"Fish",id:"diet_fish"},{displayText:"Other seafoods",id:"diet_other_seafoods"}],E=["Non-smoker","Current smoker","Past smoker"],y=[5,4,3,2,1],g="webapp-lifestyleclinic-login-0",_=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,w="LifestyleClinic@tes8.link",k=a(0),S=a.n(k),C=a(5),x=a.n(C),q=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).searchUser=function(e){var t=e.target.value;n.setState((function(e){return{userList:e.originalUserList.filter((function(e){return e.firstname.match(new RegExp(t,"i"))||e.lastname.match(new RegExp(t,"i"))||e.email.match(new RegExp(t,"i"))}))}}))},n.handleClickRefresh=function(e){xe((function(e){n.setState({userList:e,originalUserList:e})}),"users")},n.handleUserViewClick=function(e){null!=e.email&&document.querySelector("#navigator").pushPage("user_profile.html").then((function(){var t=document.querySelector("#user_profile_component");x.a.render(S.a.createElement(be,{picture:e.picture,email:e.email,openedBy:"admin",type:e.type,enabled:e.enabled}),t)}))},n.state={userList:[]},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;xe((function(t){e.setState({userList:t,originalUserList:t})}),"users");var t=document.querySelector("#refreshUsersBtn");null!=t&&t.addEventListener("click",this.handleClickRefresh);var a=document.querySelector("#navigator");null!=a&&a.addEventListener("postpop",(function(t){t.leavePage.matches("#user_profile")&&xe((function(t){e.setState({userList:t,originalUserList:t})}),"users")}))}},{key:"render",value:function(){var e=this;return S.a.createElement(S.a.Fragment,null,S.a.createElement("ons-search-input",{style:{width:"100%"},placeholder:"Search",onKeyUp:this.searchUser}),S.a.createElement("ons-list",null,S.a.createElement("ons-list-header",{style:{backgroundColor:"#e6f2ff"}},S.a.createElement("b",null,"User Accounts")),S.a.createElement("ons-lazy-repeat",null,this.state.userList.map((function(t,a){return S.a.createElement("ons-list-item",{index:a,key:t.email,modifier:"chevron",tappable:!0,onClick:function(a){e.handleUserViewClick(t)}},S.a.createElement("div",{className:"left",align:"center"},S.a.createElement("img",{className:"list-item--material__thumbnail",src:null!=t.picture?t.picture:v,alt:"Profile Pic",style:{width:"60px",height:"60px"}})),S.a.createElement("div",{className:"center",style:{marginLeft:"8px"}},S.a.createElement("span",{className:"list-item__title"},t.firstname+" "+t.lastname),S.a.createElement("span",{className:"list-item__subtitle"},t.email),S.a.createElement("span",{className:"list-item__subtitle"},S.a.createElement("i",{className:"user"===t.type?"zmdi zmdi-account zmdi-hc-lg":"zmdi zmdi-star-outline zmdi-hc-lg"}),"\xa0",S.a.createElement("i",{className:t.enabled?"zmdi zmdi-check zmdi-hc-lg":"zmdi zmdi-close zmdi-hc-lg"}))))})))))}}]),a}(S.a.Component),O=a(82),N=a.n(O),L=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).handleClick=function(e){var t={id:ze.get(g).email,basic_lastname:document.querySelector("#basic_lastname").value,basic_firstname:document.querySelector("#basic_firstname").value,basic_middlename:document.querySelector("#basic_middlename").value,basic_dob:document.querySelector("#basic_dob").value,basic_gender:document.querySelector("#basic_gender").value,basic_addr:document.querySelector("#basic_addr").value,basic_landlineno:document.querySelector("#basic_landlineno").value,basic_mobileno:document.querySelector("#basic_mobileno").value,basic_email:document.querySelector("#basic_email").value,basic_supportperson:document.querySelector("#basic_supportperson").value,basic_relationship:document.querySelector("#basic_relationship").value,basic_supportcontactno:document.querySelector("#basic_supportcontactno").value};Qe({url:u+"/v1/basicInfo",method:"POST",timeout:d,headers:{"Content-Type":"application/json",Authorization:m,JWT:ze.get(g).access_token},data:t},(function(e){Ge("Successfully saved data")}),"basic")},e}return Object(r.a)(a,[{key:"render",value:function(){return S.a.createElement("ons-button",{modifier:"quiet",onClick:this.handleClick},"Save")}}]),a}(S.a.Component),j=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChange=function(e){if(null!=e){var t=Ye(e);n.setState({basic_dob:t})}},n.state=e.data,n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=document.querySelector("div#basicinfo_saveBtn");null!=e&&x.a.render(S.a.createElement(L,null),e)}},{key:"render",value:function(){return S.a.createElement(S.a.Fragment,null,S.a.createElement("ons-list",null,S.a.createElement("ons-list-header",{style:{backgroundColor:"#e6f2ff"}},S.a.createElement("b",null,"Please fill up the form")),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Last Name"),S.a.createElement("br",null),S.a.createElement("ons-input",{id:"basic_lastname",modifier:"material",value:this.state.basic_lastname||""})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"First Name"),S.a.createElement("br",null),S.a.createElement("ons-input",{id:"basic_firstname",modifier:"material",value:this.state.basic_firstname||""})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Middle Name"),S.a.createElement("br",null),S.a.createElement("ons-input",{id:"basic_middlename",modifier:"material",value:this.state.basic_middlename||""})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Date of Birth"),S.a.createElement("br",null),S.a.createElement("ons-input",{id:"basic_dob",style:{display:"none"},value:this.state.basic_dob}),S.a.createElement(N.a,{onChange:this.onChange,value:""!==this.state.basic_dob&&null!=this.state.basic_dob?new Date(this.state.basic_dob):new Date,clearIcon:null})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Gender"),S.a.createElement("select",{className:"select-input",id:"basic_gender",modifier:"material"},S.a.createElement("option",{value:"Male",selected:"Male"===this.state.basic_gender},"Male"),S.a.createElement("option",{value:"Female",selected:"Female"===this.state.basic_gender},"Female"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Address"),S.a.createElement("br",null),S.a.createElement("textarea",{id:"basic_addr",className:"textarea",rows:"3",cols:"35",defaultValue:this.state.basic_addr||""})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Landline No."),S.a.createElement("br",null),S.a.createElement("ons-input",{type:"number",id:"basic_landlineno",modifier:"material",value:this.state.basic_landlineno||""})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Mobile No."),S.a.createElement("br",null),S.a.createElement("ons-input",{type:"number",id:"basic_mobileno",modifier:"material",value:this.state.basic_mobileno||""})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Email Address"),S.a.createElement("br",null),S.a.createElement("ons-input",{type:"email",id:"basic_email",modifier:"material",value:this.state.basic_email||""})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Support Person"),S.a.createElement("br",null),S.a.createElement("ons-input",{id:"basic_supportperson",modifier:"material",value:this.state.basic_supportperson||""})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Relationship"),S.a.createElement("br",null),S.a.createElement("ons-input",{id:"basic_relationship",modifier:"material",value:this.state.basic_relationship||""})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Support Contact No.")," ",S.a.createElement("br",null),S.a.createElement("ons-input",{type:"number",id:"basic_supportcontactno",modifier:"material",value:this.state.basic_supportcontactno||""}),S.a.createElement("br",null))))}}]),a}(S.a.Component),T=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state=e.data,n}return Object(r.a)(a,[{key:"render",value:function(){return S.a.createElement("ons-list",null,S.a.createElement("ons-list-header",{style:{textAlign:"center"}},"Basic Information",S.a.createElement("ons-button",{modifier:"quiet",onClick:function(){document.querySelector("#carousel").next()}},S.a.createElement("ons-icon",{icon:"md-chevron-right"}))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Date of Birth"),S.a.createElement("div",null,$e(Xe(this.state.basic_dob),"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Address"),S.a.createElement("div",{className:"profile"},$e(this.state.basic_addr,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Gender"),S.a.createElement("div",null,$e(this.state.basic_gender,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Email Address"),S.a.createElement("div",null,$e(this.state.basic_email,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Landline Number"),S.a.createElement("div",null,$e(this.state.basic_landlineno,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Mobile Number"),S.a.createElement("div",null,$e(this.state.basic_mobileno,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Support Person"),S.a.createElement("div",null,$e(this.state.basic_supportperson,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Relationship"),S.a.createElement("div",null,$e(this.state.basic_relationship,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Support Contact Number"),S.a.createElement("div",null,$e(this.state.basic_supportcontactno,"--"))))}}]),a}(S.a.Component),A=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).handleClick=function(e){var t={id:ze.get(g).email,illnessesList:h.map((function(e,t){return{selected:document.querySelector("#illness_"+t).checked,displayText:e}})),illness_others:document.querySelector("#illness_others").value};Qe({url:u+"/v1/illnesses",method:"POST",timeout:d,headers:{"Content-Type":"application/json",Authorization:m,JWT:ze.get(g).access_token},data:t},(function(e){Ge("Successfully saved data")}),"illnesses")},e}return Object(r.a)(a,[{key:"render",value:function(){return S.a.createElement("ons-button",{modifier:"quiet",onClick:this.handleClick},"Save")}}]),a}(S.a.Component),P=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n,l;return Object(i.a)(this,a),n=t.call(this,e),l=0===Object.keys(e.data).length?{illnessesList:h.map((function(e){return{selected:!1,displayText:e}}))}:e.data,n.state=l,n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=document.querySelector("div#illnesses_saveBtn");null!=e&&x.a.render(S.a.createElement(A,null),e)}},{key:"render",value:function(){return S.a.createElement(S.a.Fragment,null,S.a.createElement("ons-list",null,S.a.createElement("ons-list-header",{style:{backgroundColor:"#e6f2ff"}},S.a.createElement("b",null,"Please select")),this.state.illnessesList.map((function(e,t){return S.a.createElement("ons-list-item",{key:e.displayText,tappable:!0},S.a.createElement("label",{className:"left"},e.selected?S.a.createElement("ons-checkbox",{id:"illness_"+t,"input-id":e.displayText,checked:!0}):S.a.createElement("ons-checkbox",{id:"illness_"+t,"input-id":e.displayText})),S.a.createElement("label",{htmlFor:e.displayText,className:"center"},e.displayText))})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Specify Others"),S.a.createElement("textarea",{id:"illness_others",className:"textarea",rows:"3",cols:"35",defaultValue:this.state.illness_others||""}))))}}]),a}(S.a.Component),D=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state=e.data,n}return Object(r.a)(a,[{key:"render",value:function(){var e=this.state.illnessesList||[];return S.a.createElement("ons-list",null,S.a.createElement("ons-list-header",{style:{textAlign:"center"}},S.a.createElement("ons-button",{modifier:"quiet",onClick:function(){document.querySelector("#carousel").prev()}},S.a.createElement("ons-icon",{icon:"md-chevron-left"})),"Illnesses/Conditions",S.a.createElement("ons-button",{modifier:"quiet",onClick:function(){document.querySelector("#carousel").next()}},S.a.createElement("ons-icon",{icon:"md-chevron-right"}))),e.filter((function(e){return!0===e.selected})).map((function(e){return S.a.createElement("ons-list-item",null,e.displayText)})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Others"),S.a.createElement("div",null,$e(this.state.illness_others,"--"))))}}]),a}(S.a.Component),F=a(54),I=a.n(F);function z(e){var t=e.medicationList[e.index].id,a=e.index%2===0?"#ffffff":"#f0f0f5";return S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{style:{backgroundColor:a}},S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Name of Drug"),S.a.createElement("ons-input",{id:"drug_name"+t,modifier:"material",value:e.medicationList[e.index].drug_name})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Dosage"),S.a.createElement("ons-input",{id:"dosage"+t,modifier:"material",value:e.medicationList[e.index].dosage})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Purpose"),S.a.createElement("ons-input",{id:"purpose"+t,modifier:"material",value:e.medicationList[e.index].purpose})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Date Started"),S.a.createElement("ons-input",{id:"date_started"+t,style:{display:"none"},value:null==e.medicationList[e.index].date_started||0===e.medicationList[e.index].date_started.length?Ye(new Date):e.medicationList[e.index].date_started}),S.a.createElement(N.a,{onChange:function(t){e.onChangeCallback(e.index,t)},value:null==e.medicationList[e.index].date_started||0===e.medicationList[e.index].date_started.length?new Date:new Date(e.medicationList[e.index].date_started),clearIcon:null}))))}var B=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).handleClick=function(t){null!=e.props.item&&"new"===e.props.item&&He(),H((function(){var e=document.querySelector("#refresh_medications");null!=e&&e.click()}))},e}return Object(r.a)(a,[{key:"render",value:function(){return S.a.createElement(S.a.Fragment,null,S.a.createElement("ons-button",{modifier:"quiet",onClick:this.handleClick},"Save"))}}]),a}(S.a.Component),M=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){if(null!=t){var a=Ye(t);n.setState((function(t){return t.medicationList[e].date_started=a,{medicationList:t.medicationList}}))}},0!==Object.keys(e.data).length?n.state=e.data:n.state={medicationList:[]},n.index=null,n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=document.querySelector("div#save_new_medication");null!=e&&x.a.render(S.a.createElement(B,{item:"new"}),e)}},{key:"render",value:function(){return S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{className:"content"},S.a.createElement("ons-list",null,S.a.createElement("div",{className:"medication_list"},S.a.createElement(z,{value:this.state.medicationList[0],index:0,medicationList:this.state.medicationList,onChangeCallback:this.handleChange})),S.a.createElement("br",null),S.a.createElement("br",null),S.a.createElement("br",null),S.a.createElement("br",null),S.a.createElement("br",null),S.a.createElement("br",null),S.a.createElement("br",null),S.a.createElement("br",null),S.a.createElement("br",null),S.a.createElement("br",null),S.a.createElement("br",null),S.a.createElement("br",null),S.a.createElement("br",null),S.a.createElement("br",null),S.a.createElement("br",null),S.a.createElement("br",null))))}}]),a}(S.a.Component),R=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).removeMedication=function(e){if(1===e){var t=n.index;n.setState((function(e){return{medicationList:e.medicationList.filter((function(e){return e.id!=="_"+t})).map((function(e,t){return e.id="_"+t,e}))}}),(function(){H((function(){}),n.state)}))}},n.addMedication=function(e){var t=document.querySelector("#navigator"),a=document.querySelectorAll("div.medication_list")?document.querySelectorAll("div.medication_list").length:0;t.pushPage("new_medication.html").then((function(){var e=document.querySelector("#new_medication_component"),t={medicationList:[{id:"_"+a,drug_name:"",dosage:"",purpose:"",date_started:""}]};x.a.render(S.a.createElement(M,{data:t}),e)}))},n.confirm=function(e){n.index=e.target.getAttribute("index"),I.a.notification.confirm("Are you sure you want to delete?").then(n.removeMedication)},n.handleChange=function(e,t){if(null!=t){var a=Ye(t);n.setState((function(t){return t.medicationList[e].date_started=a,{medicationList:t.medicationList}}))}},n.refreshMedicationList=function(e){n.setState(e)},0!==Object.keys(e.data).length?n.state=e.data:n.state={medicationList:[]},n.index=null,n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=document.querySelector("div#medications_saveBtn");null!=e&&x.a.render(S.a.createElement(B,null),e);var t=document.querySelector("#fab_add_medication");null!=t&&t.addEventListener("click",this.addMedication)}},{key:"render",value:function(){var e=this;return S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{className:"content"},S.a.createElement("ons-list",null,this.state.medicationList.map((function(t,a){return S.a.createElement("div",{className:"medication_list"},S.a.createElement("ons-list-header",{style:{backgroundColor:"#e6f2ff"}},S.a.createElement("b",null,"Medication/Supplement"),S.a.createElement("div",{style:{display:"inline-block"}},S.a.createElement("ons-button",{index:a,modifier:"quiet",onClick:e.confirm},S.a.createElement("ons-icon",{index:a,icon:"md-delete"})))),S.a.createElement(z,{value:t,index:a,medicationList:e.state.medicationList,onChangeCallback:e.handleChange}))})))),S.a.createElement("div",{id:"refresh_medications",onClick:function(t){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t={url:u+"/v1/medications",method:"GET",timeout:d,headers:{Authorization:m},params:{id:ze.get(g).email}};Qe(t,e,"medications")}((function(t){e.refreshMedicationList(t)}))}}))}}]),a}(S.a.Component);function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=null;if(null==t){var n=document.querySelectorAll("div.medication_list").length;a=[];for(var l=0;l<n;l++){var i={id:"_"+l,drug_name:document.querySelector("#drug_name_"+l).value,dosage:document.querySelector("#dosage_"+l).value,purpose:document.querySelector("#purpose_"+l).value,date_started:document.querySelector("#date_started_"+l).value};a.push(i)}}else a=t.medicationList;if(null!=a){var r={id:ze.get(g).email,medicationList:a},o={url:u+"/v1/medications",method:"POST",timeout:6e4,headers:{"Content-Type":"application/json",Authorization:m},data:r};Qe(o,(function(t){Ge("Successfully saved data"),e()}),"medications")}}var V=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state=e.data,n}return Object(r.a)(a,[{key:"render",value:function(){var e=this.state.medicationList||[];return S.a.createElement("ons-list",null,S.a.createElement("ons-list-header",{style:{textAlign:"center"}},S.a.createElement("ons-button",{modifier:"quiet",onClick:function(){document.querySelector("#carousel").prev()}},S.a.createElement("ons-icon",{icon:"md-chevron-left"})),"Medications and Supplements",S.a.createElement("ons-button",{modifier:"quiet",onClick:function(){document.querySelector("#carousel").next()}},S.a.createElement("ons-icon",{icon:"md-chevron-right"}))),e.map((function(e,t){var a=t%2===0?"#ffffff":"#f2f2f2";return S.a.createElement("div",{style:{backgroundColor:a}},S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Date Started"),S.a.createElement("div",null,$e(Xe(e.date_started),"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Drug Name"),S.a.createElement("div",null,$e(e.drug_name,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Dosage"),S.a.createElement("div",null,$e(e.dosage,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Purpose"),S.a.createElement("div",null,$e(e.purpose,"--"))))})))}}]),a}(S.a.Component),U=a(281),Q=a.n(U);function W(e){var t=e.vsList[e.index].id,a=e.index%2===0?"#ffffff":"#f0f0f5";return S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{style:{backgroundColor:a}},S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Date"),S.a.createElement("ons-input",{id:"vs_date"+t,style:{display:"none"},value:null==e.vsList[e.index].vs_date||0===e.vsList[e.index].vs_date.length?Ye(new Date):e.vsList[e.index].vs_date}),S.a.createElement(N.a,{onChange:function(t){e.onDateChangeCallback(e.index,t)},value:null==e.vsList[e.index].vs_date||0===e.vsList[e.index].vs_date.length?new Date:new Date(e.vsList[e.index].vs_date),clearIcon:null})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Time"),S.a.createElement("ons-input",{id:"vs_time"+t,style:{display:"none"},value:null==e.vsList[e.index].vs_time||0===e.vsList[e.index].vs_time.length?Ze(new Date):e.vsList[e.index].vs_time}),S.a.createElement(Q.a,{onChange:function(t){e.onTimeChangeCallback(e.index,t)},value:null==e.vsList[e.index].vs_time||0===e.vsList[e.index].vs_time.length?new Date:e.vsList[e.index].vs_time+":00",clearIcon:null})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Blood Pressure"),S.a.createElement("ons-input",{id:"vs_bloodpressure"+t,modifier:"material",value:e.vsList[e.index].vs_bloodpressure})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Heart Rate"),S.a.createElement("ons-input",{id:"vs_heartrate"+t,type:"number",modifier:"material",value:e.vsList[e.index].vs_heartrate}),"\xa0bpm"),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Respiratory Rate"),S.a.createElement("ons-input",{id:"vs_respirate"+t,type:"number",modifier:"material",value:e.vsList[e.index].vs_respirate}),"\xa0cpm"),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Temperature"),S.a.createElement("ons-input",{id:"vs_temp"+t,type:"number",modifier:"material",value:e.vsList[e.index].vs_temp}),"\xa0Celsius"),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Weight"),S.a.createElement("ons-input",{id:"vs_weight"+t,type:"number",modifier:"material",value:e.vsList[e.index].vs_weight}),"\xa0","kg"===e.vsList[e.index].vs_weight_unit?S.a.createElement("ons-radio",{name:"vs_weight_unit"+t,"input-id":"weight_kg",value:"kg",checked:!0},"kg"):S.a.createElement("ons-radio",{name:"vs_weight_unit"+t,"input-id":"weight_kg",value:"kg"},"kg"),"\xa0","lbs"===e.vsList[e.index].vs_weight_unit?S.a.createElement("ons-radio",{name:"vs_weight_unit"+t,"input-id":"weight_lbs",value:"lbs",checked:!0},"lbs"):S.a.createElement("ons-radio",{name:"vs_weight_unit"+t,"input-id":"weight_lbs",value:"lbs"},"lbs")),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Height"),S.a.createElement("ons-input",{id:"vs_height"+t,type:"number",modifier:"material",value:e.vsList[e.index].vs_height}),"\xa0cm"),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Body Mass Index"),S.a.createElement("ons-input",{id:"vs_bmi"+t,type:"number",modifier:"material",value:e.vsList[e.index].vs_bmi})),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Waist Circumference"),S.a.createElement("ons-input",{id:"vs_waistcirc"+t,type:"number",modifier:"material",value:e.vsList[e.index].vs_waistcirc}),"\xa0cm"),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Hip Circumference"),S.a.createElement("ons-input",{id:"vs_hipcirc"+t,type:"number",modifier:"material",value:e.vsList[e.index].vs_hipcirc}),"\xa0cm"),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"form"},"Waist/Hip Ratio"),S.a.createElement("ons-input",{id:"vs_whratio"+t,modifier:"material",value:e.vsList[e.index].vs_whratio}))))}var G=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).handleClick=function(t){K((function(){null!=e.props.item&&"new"===e.props.item&&He();var t=document.querySelector("#refresh_vitalsigns");null!=t&&t.click()}))},e}return Object(r.a)(a,[{key:"render",value:function(){return S.a.createElement(S.a.Fragment,null,S.a.createElement("ons-button",{modifier:"quiet",onClick:this.handleClick},"Save"))}}]),a}(S.a.Component),Y=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleDateChange=function(e,t){if(null!=t){var a=Ye(t);n.setState((function(t){return t.vsList[e].vs_date=a,{vsList:t.vsList}}))}},n.handleTimeChange=function(e,t){null!=t&&n.setState((function(a){return a.vsList[e].vs_time=t,{vsList:a.vsList}}))},0!==Object.keys(e.data).length?n.state=e.data:n.state={vsList:[]},n.index=null,n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=document.querySelector("div#save_new_vs");null!=e&&x.a.render(S.a.createElement(G,{item:"new"}),e)}},{key:"render",value:function(){return S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{className:"content"},S.a.createElement("ons-list",null,S.a.createElement("div",{className:"vs_list"},S.a.createElement(W,{value:this.state.vsList[0],index:0,vsList:this.state.vsList,onDateChangeCallback:this.handleDateChange,onTimeChangeCallback:this.handleTimeChange})))))}}]),a}(S.a.Component),Z=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).removeVitalSign=function(e){if(1===e){var t=n.index;n.setState((function(e){return{vsList:e.vsList.filter((function(e){return e.id!=="_"+t})).map((function(e,t){return e.id="_"+t,e}))}}),(function(){K((function(){}),n.state)}))}},n.addVitalSign=function(e){var t=document.querySelector("#navigator"),a=document.querySelectorAll("div.vs_list")?document.querySelectorAll("div.vs_list").length:0;t.pushPage("new_vitalsign.html").then((function(){var e=document.querySelector("#new_vs_component"),t={vsList:[{id:"_"+a,vs_date:"",vs_time:"",vs_bloodpressure:"",vs_heartrate:"",vs_respirate:"",vs_temp:"",vs_weight:"",vs_weight_unit:"",vs_height:"",vs_bmi:"",vs_waistcirc:"",vs_hipcirc:"",vs_whratio:""}]};x.a.render(S.a.createElement(Y,{data:t}),e)}))},n.confirm=function(e){n.index=e.target.getAttribute("index"),I.a.notification.confirm("Are you sure you want to delete?").then(n.removeVitalSign)},n.handleDateChange=function(e,t){if(null!=t){var a=Ye(t);n.setState((function(t){return t.vsList[e].vs_date=a,{vsList:t.vsList}}))}},n.handleTimeChange=function(e,t){null!=t&&n.setState((function(a){return a.vsList[e].vs_time=t,{vsList:a.vsList}}))},n.handleChangeState=function(e){"changestate"!==e.type&&"action"!==e.state||X(n.refreshVSList)},n.refreshVSList=function(e){n.setState(e)},0!==Object.keys(e.data).length?n.state=e.data:n.state={vsList:[]},n.index=null,n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=document.querySelector("div#vitalsigns_saveBtn");null!=e&&x.a.render(S.a.createElement(G,null),e);var t=document.querySelector("#fab_add_vitalsign");null!=t&&t.addEventListener("click",this.addVitalSign)}},{key:"render",value:function(){var e=this;return S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{className:"content"},S.a.createElement("ons-list",null,this.state.vsList.map((function(t,a){return S.a.createElement("div",{className:"vs_list"},S.a.createElement("ons-list-header",{style:{backgroundColor:"#e6f2ff"}},S.a.createElement("b",null,"Enter the details"),S.a.createElement("div",{style:{display:"inline-block"}},S.a.createElement("ons-button",{index:a,modifier:"quiet",onClick:e.confirm},S.a.createElement("ons-icon",{index:a,icon:"md-delete"})))),S.a.createElement(W,{value:t,index:a,vsList:e.state.vsList,onDateChangeCallback:e.handleDateChange,onTimeChangeCallback:e.handleTimeChange}))})))),S.a.createElement("div",{id:"refresh_vitalsigns",onClick:function(t){X((function(t){e.refreshVSList(t)}))}}))}}]),a}(S.a.Component);function X(e){Qe({url:u+"/v1/vitalSigns",method:"GET",timeout:d,headers:{Authorization:m,JWT:ze.get(g).access_token},params:{id:ze.get(g).email}},e,"vitalsigns")}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=null;if(null==t){var n=document.querySelectorAll("div.vs_list").length;a=[];for(var l=0;l<n;l++){var i={id:"_"+l,vs_date:document.querySelector("#vs_date_"+l).value,vs_time:document.querySelector("#vs_time_"+l).value,vs_bloodpressure:document.querySelector("#vs_bloodpressure_"+l).value,vs_heartrate:document.querySelector("#vs_heartrate_"+l).value,vs_respirate:document.querySelector("#vs_respirate_"+l).value,vs_temp:document.querySelector("#vs_temp_"+l).value,vs_weight:document.querySelector("#vs_weight_"+l).value,vs_weight_unit:document.querySelector("input[name=vs_weight_unit_"+l+"]:checked")?document.querySelector("input[name=vs_weight_unit_"+l+"]:checked").value:"",vs_height:document.querySelector("#vs_height_"+l).value,vs_bmi:document.querySelector("#vs_bmi_"+l).value,vs_waistcirc:document.querySelector("#vs_waistcirc_"+l).value,vs_hipcirc:document.querySelector("#vs_hipcirc_"+l).value,vs_whratio:document.querySelector("#vs_whratio_"+l).value};a.push(i)}}else a=t.vsList;if(null!=a){var r={id:ze.get(g).email,vsList:a},o={url:u+"/v1/vitalSigns",method:"POST",timeout:6e4,headers:{"Content-Type":"application/json",Authorization:m,JWT:ze.get(g).access_token},data:r};Qe(o,(function(t){Ge("Successfully saved data"),e()}),"vitalsigns")}}var J=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state=e.data,n}return Object(r.a)(a,[{key:"render",value:function(){var e=this.state.vsList||[];return S.a.createElement("ons-list",null,S.a.createElement("ons-list-header",{style:{textAlign:"center"}},S.a.createElement("ons-button",{modifier:"quiet",onClick:function(){document.querySelector("#carousel").prev()}},S.a.createElement("ons-icon",{icon:"md-chevron-left"})),"Vital Signs",S.a.createElement("ons-button",{modifier:"quiet",onClick:function(){document.querySelector("#carousel").next()}},S.a.createElement("ons-icon",{icon:"md-chevron-right"}))),e.map((function(e,t){var a=t%2===0?"#ffffff":"#f2f2f2";return S.a.createElement("div",{style:{backgroundColor:a}},S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Date"),S.a.createElement("div",null,$e(Xe(e.vs_date),"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Time"),S.a.createElement("div",null,$e(Ke(e.vs_time),"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Blood Pressure"),S.a.createElement("div",null,$e(e.vs_bloodpressure,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Heart Rate (bpm)"),S.a.createElement("div",null,$e(e.vs_heartrate,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Respiratory Rate (cpm)"),S.a.createElement("div",null,$e(e.vs_respirate,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Temperature (Celsius)"),S.a.createElement("div",null,$e(e.vs_temp,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Weight (",e.vs_weight_unit,")"),S.a.createElement("div",null,$e(e.vs_weight,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Height (cm)"),S.a.createElement("div",null,$e(e.vs_height,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Body Mass Index"),S.a.createElement("div",null,$e(e.vs_bmi,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Waist Circumference (cm)"),S.a.createElement("div",null,$e(e.vs_waistcirc,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Hip Circumference (cm)"),S.a.createElement("div",null,$e(e.vs_hipcirc,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Waist/Hip Ratio"),S.a.createElement("div",null,$e(e.vs_whratio,"--"))))})))}}]),a}(S.a.Component);function $(e){return S.a.createElement(S.a.Fragment,null,S.a.createElement("ons-list",null,S.a.createElement("ons-list-header",null,S.a.createElement("b",null,"Expand the item to specify the quantity")),e.data.dietList.map((function(t,a){return S.a.createElement("ons-list-item",{key:t.displayText,expandable:!0},t.displayText,S.a.createElement("div",{className:"expandable-content"},S.a.createElement("ons-input",{id:t.id+"_qty",type:"number",modifier:"material",placeholder:"Quantity",style:{width:"100px"},value:t.quantity}),S.a.createElement("br",null),S.a.createElement("ons-select",{id:t.id+"_unit",modifier:"material",selectedIndex:t.unit_selected,ref:function(t){e.unitRef[a]=t}},S.a.createElement("option",{value:"serve"},"serve"),S.a.createElement("option",{value:"cup"},"cup"),S.a.createElement("option",{value:"cup raw"},"cup raw"),S.a.createElement("option",{value:"cup cooked"},"cup cooked"),S.a.createElement("option",{value:"tbsp"},"tbsp"),S.a.createElement("option",{value:"handful"},"handful"),S.a.createElement("option",{value:"glass"},"glass"),S.a.createElement("option",{value:"piece"},"piece"),S.a.createElement("option",{value:"pack"},"pack"))))}))))}var ee=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).handleClick=function(e){var t=b.map((function(e){var t,a,n,l=document.querySelector("#"+e.id+"_qty"),i=document.querySelector("#"+e.id+"_unit");return null!=l&&(t=l.value),null!=i&&(a=i.value,n=i.selectedIndex),{displayText:e.displayText,id:e.id,quantity:t,unit:a,unit_selected:n}})),a={id:ze.get(g).email,dietList:t};Qe({url:u+"/v1/diet",method:"POST",timeout:d,headers:{"Content-Type":"application/json",Authorization:m},data:a},(function(e){Ge("Successfully saved data")}),"diet")},e}return Object(r.a)(a,[{key:"render",value:function(){return S.a.createElement("ons-button",{modifier:"quiet",onClick:this.handleClick},"Save")}}]),a}(S.a.Component),te=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),n=t.call(this,e),0!==Object.keys(e.data).length?n.state=e.data:n.state={dietList:b},n.unit=[],n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=document.querySelector("div#diet_saveBtn");null!=t&&x.a.render(S.a.createElement(ee,null),t),this.state.dietList.forEach((function(t,a){e.unit[a].selectedIndex=t.unit_selected}))}},{key:"render",value:function(){return S.a.createElement($,{data:this.state,unitRef:this.unit})}}]),a}(S.a.Component),ae=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state=e.data,n}return Object(r.a)(a,[{key:"render",value:function(){var e=this.state.dietList||[];return S.a.createElement("ons-list",null,S.a.createElement("ons-list-header",{style:{textAlign:"center"}},S.a.createElement("ons-button",{modifier:"quiet",onClick:function(){document.querySelector("#carousel").prev()}},S.a.createElement("ons-icon",{icon:"md-chevron-left"})),"Diet",S.a.createElement("ons-button",{modifier:"quiet",onClick:function(){document.querySelector("#carousel").next()}},S.a.createElement("ons-icon",{icon:"md-chevron-right"}))),e.map((function(e){return S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},e.displayText),S.a.createElement("div",null,$e(e.quantity,"--")," ",e.unit))})))}}]),a}(S.a.Component);function ne(e){return S.a.createElement(S.a.Fragment,null,S.a.createElement("ons-list",null,S.a.createElement("ons-list-header",null,S.a.createElement("b",null,"Expand the item to answer the question")),S.a.createElement("ons-list-item",null,S.a.createElement("ons-list-header",null,"Physical Activity")),S.a.createElement("ons-list-item",{expandable:!0},"How many days a week do you engage in moderate to strenuous exercise, such as brisk walking?",S.a.createElement("div",{className:"expandable-content"},S.a.createElement("ons-input",{id:"physical_activity_0",type:"number",modifier:"material",placeholder:"Days",style:{width:"100px"},value:e.data.physical_activity_0}))),S.a.createElement("ons-list-item",{expandable:!0},"On average, how many minutes per day do you exercise at this level?",S.a.createElement("div",{className:"expandable-content"},S.a.createElement("ons-input",{id:"physical_activity_1",type:"number",modifier:"material",placeholder:"Minutes",style:{width:"100px"},value:e.data.physical_activity_1}))),S.a.createElement("ons-list-item",{expandable:!0},"Total minutes of moderate to strenuous physical activity per week:",S.a.createElement("div",{className:"expandable-content"},S.a.createElement("ons-input",{id:"physical_activity_2",type:"number",modifier:"material",placeholder:"Minutes",style:{width:"100px"},value:e.data.physical_activity_2}))),S.a.createElement("ons-list-item",null,S.a.createElement("ons-list-header",null,"Sleep")),S.a.createElement("ons-list-item",{expandable:!0},"Typical weekday hours of sleep",S.a.createElement("div",{className:"expandable-content"},S.a.createElement("ons-input",{id:"sleep_0",type:"number",modifier:"material",placeholder:"Hours",style:{width:"100px"},value:e.data.sleep_0}))),S.a.createElement("ons-list-item",{expandable:!0},"Typical weekend hours of sleep",S.a.createElement("div",{className:"expandable-content"},S.a.createElement("ons-input",{id:"sleep_1",type:"number",modifier:"material",placeholder:"Hours",style:{width:"100px"},value:e.data.sleep_1}))),S.a.createElement("ons-list-item",{expandable:!0},"Quality of sleep",S.a.createElement("div",{className:"expandable-content"},S.a.createElement("ons-input",{id:"sleep_2",modifier:"material",placeholder:"Quality",style:{width:"100px"},value:e.data.sleep_2}))),S.a.createElement("ons-list-item",null,S.a.createElement("ons-list-header",null,"Tobacco Use")),S.a.createElement("ons-list-item",{expandable:!0},S.a.createElement("div",null,S.a.createElement("ons-select",{id:"tobacco_use_0",modifier:"material",style:{float:"left"},ref:e.tobacco_use_0},S.a.createElement("option",{value:"Non smoker"},"Non smoker"),S.a.createElement("option",{value:"Current smoker"},"Current smoker"),S.a.createElement("option",{value:"Past smoker"},"Past smoker"))),S.a.createElement("div",{className:"expandable-content"},S.a.createElement("ons-input",{id:"tobacco_use_1",type:"number",modifier:"material",placeholder:"# of sticks/day",style:{width:"120px"},value:e.data.tobacco_use_1}),"\xa0sticks/day",S.a.createElement("br",null),S.a.createElement("ons-input",{id:"tobacco_use_2",type:"number",modifier:"material",placeholder:"# of years",style:{width:"120px"},value:e.data.tobacco_use_2}),"\xa0years",S.a.createElement("br",null),S.a.createElement("ons-input",{id:"tobacco_use_3",type:"number",modifier:"material",placeholder:"pack/year",style:{width:"120px"},value:e.data.tobacco_use_3}),"\xa0pack/year")),S.a.createElement("ons-list-item",null,S.a.createElement("ons-list-header",null,"Alcohol Use")),S.a.createElement("ons-list-item",{expandable:!0},"How many drinks do you consume in any day?",S.a.createElement("div",{className:"expandable-content"},S.a.createElement("ons-input",{id:"alcohol_use_0",type:"number",modifier:"material",placeholder:"Quantity",style:{width:"100px"},value:e.data.alcohol_use_0}))),S.a.createElement("ons-list-item",{expandable:!0},"How many drinks do you consume in a week?",S.a.createElement("div",{className:"expandable-content"},S.a.createElement("ons-input",{id:"alcohol_use_1",type:"number",modifier:"material",placeholder:"Quantity",style:{width:"100px"},value:e.data.alcohol_use_1}))),S.a.createElement("ons-list-item",null,S.a.createElement("ons-list-header",null,"Emotional Being")),S.a.createElement("ons-list-item",{expandable:!0},"In most ways, my life is close to my ideal.",S.a.createElement("div",{className:"expandable-content"},S.a.createElement("div",null,S.a.createElement("ons-select",{id:"emotional_being_0",modifier:"material",style:{float:"left"},ref:e.emotional_being_0},S.a.createElement("option",{value:"5"},"5"),S.a.createElement("option",{value:"4"},"4"),S.a.createElement("option",{value:"3"},"3"),S.a.createElement("option",{value:"2"},"2"),S.a.createElement("option",{value:"1"},"1"))))),S.a.createElement("ons-list-item",{expandable:!0},"I am satisfied with my life.",S.a.createElement("div",{className:"expandable-content"},S.a.createElement("div",null,S.a.createElement("ons-select",{id:"emotional_being_1",modifier:"material",style:{float:"left"},ref:e.emotional_being_1},S.a.createElement("option",{value:"5"},"5"),S.a.createElement("option",{value:"4"},"4"),S.a.createElement("option",{value:"3"},"3"),S.a.createElement("option",{value:"2"},"2"),S.a.createElement("option",{value:"1"},"1")))))))}var le=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).handleClick=function(e){var t={id:ze.get(g).email,physical_activity_0:document.querySelector("#physical_activity_0").value,physical_activity_1:document.querySelector("#physical_activity_1").value,physical_activity_2:document.querySelector("#physical_activity_2").value,sleep_0:document.querySelector("#sleep_0").value,sleep_1:document.querySelector("#sleep_1").value,sleep_2:document.querySelector("#sleep_2").value,tobacco_use_0:document.querySelector("#tobacco_use_0").selectedIndex,tobacco_use_1:document.querySelector("#tobacco_use_1").value,tobacco_use_2:document.querySelector("#tobacco_use_2").value,tobacco_use_3:document.querySelector("#tobacco_use_3").value,alcohol_use_0:document.querySelector("#alcohol_use_0").value,alcohol_use_1:document.querySelector("#alcohol_use_1").value,emotional_being_0:document.querySelector("#emotional_being_0").selectedIndex,emotional_being_1:document.querySelector("#emotional_being_1").selectedIndex};Qe({url:u+"/v1/others",method:"POST",timeout:d,headers:{"Content-Type":"application/json",Authorization:m},data:t},(function(e){Ge("Successfully saved data")}),"others")},e}return Object(r.a)(a,[{key:"render",value:function(){return S.a.createElement("ons-button",{modifier:"quiet",onClick:this.handleClick},"Save")}}]),a}(S.a.Component),ie=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),n=t.call(this,e),0!==Object.keys(e.data).length?n.state=e.data:n.state={},n.tobacco_use_0=S.a.createRef(),n.emotional_being_0=S.a.createRef(),n.emotional_being_1=S.a.createRef(),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=document.querySelector("div#others_saveBtn");null!=e&&x.a.render(S.a.createElement(le,null),e),this.tobacco_use_0.current.selectedIndex=this.state.tobacco_use_0,this.emotional_being_0.current.selectedIndex=this.state.emotional_being_0,this.emotional_being_1.current.selectedIndex=this.state.emotional_being_1}},{key:"render",value:function(){return S.a.createElement(ne,{data:this.state,tobacco_use_0:this.tobacco_use_0,emotional_being_0:this.emotional_being_0,emotional_being_1:this.emotional_being_1})}}]),a}(S.a.Component),re=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state=e.data,n}return Object(r.a)(a,[{key:"render",value:function(){return S.a.createElement("ons-list",null,S.a.createElement("ons-list-header",{style:{textAlign:"center"}},S.a.createElement("ons-button",{modifier:"quiet",onClick:function(){document.querySelector("#carousel").prev()}},S.a.createElement("ons-icon",{icon:"md-chevron-left"})),"Others"),S.a.createElement("ons-list-header",null,"Physical Activity"),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Days a week that are engaged in moderate to strenuous exercise, such as brisk walking"),S.a.createElement("div",null,$e(this.state.physical_activity_0,"--")," days")),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Average minutes per day of exercise at this level"),S.a.createElement("div",null,$e(this.state.physical_activity_1,"--")," minutes")),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Total minutes of moderate to strenuous physical activity per week"),S.a.createElement("div",null,$e(this.state.physical_activity_2,"--")," minutes")),S.a.createElement("ons-list-header",null,"Sleep"),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Typical weekday hours of sleep"),S.a.createElement("div",null,$e(this.state.sleep_0,"--")," hours")),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Typical weekend hours of sleep"),S.a.createElement("div",null,$e(this.state.sleep_1,"--")," hours")),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Quality of sleep"),S.a.createElement("div",null,$e(this.state.sleep_2,"--"))),S.a.createElement("ons-list-header",null,"Tobacco Use"),S.a.createElement("ons-list-item",null,S.a.createElement("div",null,$e(E[this.state.tobacco_use_0],"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Number of sticks per day"),S.a.createElement("div",null,$e(this.state.tobacco_use_1,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Number of years"),S.a.createElement("div",null,$e(this.state.tobacco_use_2,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Pack per year"),S.a.createElement("div",null,$e(this.state.tobacco_use_3,"--"))),S.a.createElement("ons-list-header",null,"Alcohol Use"),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Number of drinks consumed in any day"),S.a.createElement("div",null,$e(this.state.alcohol_use_0,"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Number of drinks consumed in a week"),S.a.createElement("div",null,$e(this.state.alcohol_use_1,"--"))),S.a.createElement("ons-list-header",null,"Emotional Being"),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"In most ways, life is close to ideal"),S.a.createElement("div",null,$e(y[this.state.emotional_being_0],"--"))),S.a.createElement("ons-list-item",null,S.a.createElement("label",{className:"profile"},"Satisfied with life"),S.a.createElement("div",null,$e(y[this.state.emotional_being_1],"--"))))}}]),a}(S.a.Component),oe=a(173),se=a.n(oe),ce=(a(557),a(174)),ue=a(131),me=a.n(ue),de=(a(558),a(559),a(285)),fe=a.n(de),pe=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={myEventsList:[{title:"Select",start:me()().toDate(),end:me()().add(30,"minute").toDate()}]},e.handleEventDrop=function(e){},e.handleEventResize=function(t){e.setState((function(e){var a=e.myEventsList[e.myEventsList.length-1];a.start=t.start,a.end=t.end}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=fe()(ce.a),a=Object(ce.b)(me.a);setTimeout((function(){var n=document.querySelector("#appointment_calendar");x.a.render(S.a.createElement(t,{localizer:a,events:e.state.myEventsList,startAccessor:"start",endAccessor:"end",defaultView:"day",views:["day"],scrollToTime:new Date,selectable:!1,resizable:!0,step:30,timeslots:1,onEventDrop:e.handleEventDrop,onEventResize:e.handleEventResize}),n)}),500)}},{key:"render",value:function(){return S.a.createElement(S.a.Fragment,null,S.a.createElement("ons-toolbar",null,S.a.createElement("div",{className:"left"},S.a.createElement("ons-toolbar-button",{onClick:he},S.a.createElement("ons-icon",{icon:"md-menu"}))),S.a.createElement("div",{className:"center"},"My Appointments"),S.a.createElement("div",{className:"right"},S.a.createElement("ons-button",{modifier:"quiet"},"Save"))),S.a.createElement("ons-tabbar",{position:"bottom"},S.a.createElement("ons-tab",{label:"Schedule",icon:"fa-tasks",page:"set_appointment.html"}),S.a.createElement("ons-tab",{label:"History",icon:"fa-history",page:"set_appointment.html"})))}}]),a}(S.a.Component);window.fn={},window.fn.open=function(){document.getElementById("menu").open()},window.fn.load=function(e){document.getElementById("content").load(e).then((function(){if(document.getElementById("menu").close(),"profile.html"===e){var t=document.querySelector("div#main_display");Ce((function(e){x.a.render(S.a.createElement(be,{picture:e.picture,email:ze.get(g).email}),t)}),null,ze.get(g).email)}if("users.html"===e){var a=document.querySelector("div#user_list");x.a.render(S.a.createElement(q,null),a)}if("medical_record.html"===e){var n=document.querySelector("div#medical_record_main");x.a.render(S.a.createElement(Ee,{email:ze.get(g).email}),n)}if("schedule_appointment.html"===e){var l=document.querySelector("div#schedule_appointment_main");x.a.render(S.a.createElement(pe,null),l)}}))},window.fn.logout=Ve,window.fn.back=He,window.fn.createAccount=Re,window.fn.login=Be,window.fn.register=Me;var ve=window.fn.load,he=window.fn.open,be=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handlePictureClick=function(e){document.querySelector("#profile_pic").click()},n.handlePictureChange=function(e,t){if(null!=t){var a=new FileReader;a.readAsDataURL(e.target.files[0]),a.onloadend=function(e){n.setState({src:e.target.result}),t.pushPage("new_profile_pic.html").then((function(){var e=document.querySelector("#new_pp_component");null!=e&&x.a.render(S.a.createElement(se.a,{src:n.state.src,crop:n.state.crop,ruleOfThirds:!0,circularCrop:!0,onChange:n.cropChange,onImageLoaded:n.imageLoaded,onComplete:n.cropComplete}),e);var t=document.querySelector("#save_new_pp");null!=t&&t.addEventListener("click",(function(e){qe({email:n.state.email,picture:n.state.croppedImageData},(function(e){Ge("Successfully updated profile picture"),n.setState({accountInfo:{picture:n.state.croppedImageData}}),document.querySelector("#badge_pic").src=n.state.croppedImageData,He()}))}))}))}}},n.imageLoaded=function(e){n.imageRef=e},n.cropChange=function(e){n.setState({crop:e})},n.cropComplete=function(e){var t=n.imageRef,a=document.createElement("canvas"),l=t.naturalWidth/t.width,i=t.naturalHeight/t.height;a.width=200,a.height=200;var r=a.getContext("2d");r.drawImage(t,e.x*l,e.y*i,e.width*l,e.height*i,0,0,200,200);var o=r.canvas.toDataURL("image/png",1);n.setState({croppedImageData:o})},n.handleEditAccess=function(e){n.popover.show(e.target)},n.handleChangePassword=function(e){n.change_password_popover.show(e.target),n.profile_settings_popover.hide()},n.handleChangePasswdSubmit=function(e){Ue(n.passwd.value,n.cpasswd.value)&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t=arguments.length>1?arguments[1]:void 0,a={url:u+"/v1/users/verifyPwd",method:"POST",timeout:d,headers:{Authorization:m,"Content-Type":"application/json"},data:t};Qe(a,e,"",!1)}((function(e){e.verified?qe({email:n.state.email,password:n.passwd.value},(function(e){Ge("Successfully changed password"),n.change_password_popover.hide(),n.passwd.value="",n.cpasswd.value="",n.currentpasswd.value="",Ne({to:n.state.email,from:w,subject:"Change Password Successful",body:"You have successfully changed your password."})})):Ge("Current password cannot be verified")}),{email:n.state.email,password:n.currentpasswd.value})},n.handleViewOptions=function(e){n.viewSwitch.show()},n.handleSwitch=function(e,t){var a=document.querySelector("#carousel");null!=a&&(a.setActiveIndex(t),n.viewSwitch.hide(),a.scrollIntoView())},n.state={accountInfo:{picture:e.picture},email:e.email,type:e.type,enabled:e.enabled,openedBy:e.openedBy,crop:{unit:"%",x:25,y:10,width:50,aspect:1}},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=document.querySelector("div#profile_basic_info");ye((function(a){x.a.render(S.a.createElement(T,{data:a}),t),e.title.innerHTML="<b>"+$e(a.basic_firstname,"Firstname")+" "+$e(a.basic_lastname,"Lastname")+" "+$e(a.basic_middlename,"")+"</b>"}),"profile",this.state.email);var a=document.querySelector("div#profile_illnesses");ge((function(e){x.a.render(S.a.createElement(D,{data:e}),a)}),"profile",this.state.email);var n=document.querySelector("div#profile_medications");_e((function(e){x.a.render(S.a.createElement(V,{data:e}),n)}),"profile",this.state.email);var l=document.querySelector("div#profile_vital_signs");we((function(e){x.a.render(S.a.createElement(J,{data:e}),l)}),"profile",this.state.email);var i=document.querySelector("div#profile_diet");ke((function(e){x.a.render(S.a.createElement(ae,{data:e}),i)}),"profile",this.state.email);var r=document.querySelector("div#profile_others");Se((function(e){x.a.render(S.a.createElement(re,{data:e}),r)}),"profile",this.state.email),this.isAdminSwitch.checked="admin"===this.state.type,this.isEnabledSwitch.checked=this.state.enabled,this.isEnabledSwitch.addEventListener("change",(function(t){qe({email:e.state.email,enabled:t.target.checked},(function(a){Ge("Successfully updated settings"),e.setState({enabled:t.target.checked})}))})),this.isAdminSwitch.addEventListener("change",(function(t){qe({email:e.state.email,type:t.target.checked?"admin":"user"},(function(a){Ge("Successfully updated settings"),e.setState({type:t.target.checked?"admin":"user"})}))}));var o=document.querySelector("#profile_settings");null!=o&&o.addEventListener("click",(function(t){e.profile_settings_popover.show(t.target)}))}},{key:"render",value:function(){var e=this,t=null!=this.state.accountInfo.picture?this.state.accountInfo.picture:v,a="admin"===this.state.openedBy?"none":"block",n="admin"===this.state.openedBy?"block":"none",l=document.querySelector("#navigator"),i=document.querySelector("#new_pp_component");return null!=i&&x.a.render(S.a.createElement(se.a,{src:this.state.src,crop:this.state.crop,ruleOfThirds:!0,onChange:this.cropChange,onImageLoaded:this.imageLoaded,onComplete:this.cropComplete}),i),S.a.createElement(S.a.Fragment,null,S.a.createElement("ons-card",null,S.a.createElement("div",{className:"center",align:"center"},S.a.createElement("img",{className:"list-item--material__thumbnail",src:t,alt:"Profile Pic",style:{width:"100px",height:"100px"}})),S.a.createElement("div",{id:"profile_cam_icon",align:"center",style:{display:a}},S.a.createElement("ons-icon",{icon:"fa-camera",onClick:this.handlePictureClick}),S.a.createElement("input",{type:"file",id:"profile_pic",style:{display:"none"},onChange:function(t){e.handlePictureChange(t,l)}})),S.a.createElement("div",{className:"title",align:"center",ref:function(t){e.title=t}}),S.a.createElement("div",{align:"center",style:{display:n}},S.a.createElement("ons-button",{modifier:"quiet",onClick:this.handleEditAccess},S.a.createElement("ons-icon",{icon:"md-edit"}),"\xa0Edit Access"))),S.a.createElement("ons-popover",{direction:"down",id:"popover",cancelable:!0,ref:function(t){e.popover=t},style:{position:"fixed"}},S.a.createElement("ons-list",null,S.a.createElement("ons-list-header",null,S.a.createElement("div",{className:"left"},"Settings")),S.a.createElement("ons-list-item",null,S.a.createElement("div",{className:"left"},"Set As Admin"),S.a.createElement("div",{className:"right"},S.a.createElement("ons-switch",{ref:function(t){e.isAdminSwitch=t}}))),S.a.createElement("ons-list-item",null,S.a.createElement("div",{className:"left"},"Enable User"),S.a.createElement("div",{className:"right"},S.a.createElement("ons-switch",{ref:function(t){e.isEnabledSwitch=t}}))))),S.a.createElement("ons-popover",{direction:"left",id:"popover",cancelable:!0,ref:function(t){e.profile_settings_popover=t},style:{position:"fixed",marginTop:"60px"}},S.a.createElement("p",null,S.a.createElement("ons-button",{modifier:"quiet",onClick:this.handleChangePassword},"Change Password"))),S.a.createElement("ons-popover",{direction:"down",id:"popover",cancelable:!0,ref:function(t){e.change_password_popover=t},style:{position:"fixed"}},S.a.createElement("ons-list",null,S.a.createElement("ons-list-header",null,"Change Password"),S.a.createElement("div",{align:"center"},S.a.createElement("p",null,S.a.createElement("ons-input",{type:"password",placeholder:"Current Password",modifier:"material",ref:function(t){e.currentpasswd=t}})),S.a.createElement("p",null,S.a.createElement("ons-input",{type:"password",placeholder:"New Password",modifier:"material",ref:function(t){e.passwd=t}})),S.a.createElement("p",null,S.a.createElement("ons-input",{type:"password",placeholder:"Confirm Password",modifier:"material",ref:function(t){e.cpasswd=t}})),S.a.createElement("p",null,S.a.createElement("ons-button",{onClick:this.handleChangePasswdSubmit},"Submit"))))),S.a.createElement("ons-fab",{position:"bottom right",style:{position:"fixed"},modifier:"mini",onClick:this.handleViewOptions},S.a.createElement("ons-icon",{icon:"fa-exchange-alt"})),S.a.createElement("ons-action-sheet",{cancelable:!0,title:"Switch to...",ref:function(t){e.viewSwitch=t},style:{position:"fixed"}},S.a.createElement("ons-action-sheet-button",{icon:"fa-id-card-alt",onClick:function(t){e.handleSwitch(t,0)}},"Basic Information"),S.a.createElement("ons-action-sheet-button",{icon:"fa-diagnoses",onClick:function(t){e.handleSwitch(t,1)}},"Illnesses"),S.a.createElement("ons-action-sheet-button",{icon:"fa-prescription",onClick:function(t){e.handleSwitch(t,2)}},"Medications"),S.a.createElement("ons-action-sheet-button",{icon:"fa-heartbeat",onClick:function(t){e.handleSwitch(t,3)}},"Vital Signs"),S.a.createElement("ons-action-sheet-button",{icon:"fa-mug-hot",onClick:function(t){e.handleSwitch(t,4)}},"Diet"),S.a.createElement("ons-action-sheet-button",{icon:"fa-question-circle",onClick:function(t){e.handleSwitch(t,5)}},"Others"),S.a.createElement("ons-action-sheet-button",{icon:"fa-times",onClick:function(t){e.viewSwitch.hide()}},"Cancel")))}}]),a}(S.a.Component),Ee=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={email:e.props.email},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.tabbar.addEventListener("postchange",(function(e){if(0===e.index){var t=document.querySelector("div#basicinfo_form");ye((function(e){x.a.render(S.a.createElement(j,{data:e}),t)}),"basic",ze.get(g).email),document.querySelector("#fab_add_medication").style.display="none",document.querySelector("#fab_add_vitalsign").style.display="none"}if(1===e.index){var a=document.querySelector("div#illnesses_list");ge((function(e){x.a.render(S.a.createElement(P,{data:e}),a)}),"illnesses",ze.get(g).email),document.querySelector("#fab_add_medication").style.display="none",document.querySelector("#fab_add_vitalsign").style.display="none"}if(2===e.index){var n=document.querySelector("div#medications_list");_e((function(e){x.a.render(S.a.createElement(R,{data:e}),n)}),"medications",ze.get(g).email),document.querySelector("#fab_add_medication").style.display="block",document.querySelector("#fab_add_vitalsign").style.display="none"}if(3===e.index){var l=document.querySelector("div#vitalsigns_list");we((function(e){x.a.render(S.a.createElement(Z,{data:e}),l)}),"vitalsigns",ze.get(g).email),document.querySelector("#fab_add_medication").style.display="none",document.querySelector("#fab_add_vitalsign").style.display="block"}if(4===e.index){var i=document.querySelector("div#diet_list");ke((function(e){x.a.render(S.a.createElement(te,{data:e}),i)}),"diet",ze.get(g).email),document.querySelector("#fab_add_medication").style.display="none",document.querySelector("#fab_add_vitalsign").style.display="none"}if(5===e.index){var r=document.querySelector("div#others_list");Se((function(e){x.a.render(S.a.createElement(ie,{data:e}),r)}),"others",ze.get(g).email),document.querySelector("#fab_add_medication").style.display="none",document.querySelector("#fab_add_vitalsign").style.display="none"}})),this.tabbar.addEventListener("reactive",(function(e){if(0===e.index){var t=document.querySelector("div#basicinfo_form");ye((function(e){x.a.render(S.a.createElement(j,{data:e}),t)}),"basic",ze.get(g).email)}})),setTimeout((function(){var e=document.querySelector("div#basicinfo_form");ye((function(t){x.a.render(S.a.createElement(j,{data:t}),e)}),"basic",ze.get(g).email);var t=document.querySelector("div#illnesses_list");ge((function(e){x.a.render(S.a.createElement(P,{data:e}),t)}),"illnesses",ze.get(g).email);var a=document.querySelector("div#medications_list");_e((function(e){x.a.render(S.a.createElement(R,{data:e}),a)}),"medications",ze.get(g).email);var n=document.querySelector("div#vitalsigns_list");we((function(e){x.a.render(S.a.createElement(Z,{data:e}),n)}),"vitalsigns",ze.get(g).email);var l=document.querySelector("div#diet_list");ke((function(e){x.a.render(S.a.createElement(te,{data:e}),l)}),"diet",ze.get(g).email);var i=document.querySelector("div#others_list");Se((function(e){x.a.render(S.a.createElement(ie,{data:e}),i)}),"others",ze.get(g).email)}),500)}},{key:"render",value:function(){var e=this;return S.a.createElement(S.a.Fragment,null,S.a.createElement("ons-tabbar",{id:"record_tabbar",position:"bottom",ref:function(t){e.tabbar=t}},S.a.createElement("ons-tab",{page:"basicinfo.html"},S.a.createElement("input",{type:"radio",style:{display:"none"}}),S.a.createElement("button",{className:"tabbar__button"},S.a.createElement("div",{className:"tabbar__icon"},S.a.createElement("i",{className:"fas fa-id-card-alt fa-fw"})))),S.a.createElement("ons-tab",{page:"illnesses.html"},S.a.createElement("input",{type:"radio",style:{display:"none"}}),S.a.createElement("button",{className:"tabbar__button"},S.a.createElement("div",{className:"tabbar__icon"},S.a.createElement("i",{className:"fas fa-diagnoses fa-fw"})))),S.a.createElement("ons-tab",{page:"medications.html"},S.a.createElement("input",{type:"radio",style:{display:"none"}}),S.a.createElement("button",{className:"tabbar__button"},S.a.createElement("div",{className:"tabbar__icon"},S.a.createElement("i",{className:" fas fa-prescription fa-fw"})))),S.a.createElement("ons-tab",{page:"vitalsigns.html"},S.a.createElement("input",{type:"radio",style:{display:"none"}}),S.a.createElement("button",{className:"tabbar__button"},S.a.createElement("div",{className:"tabbar__icon"},S.a.createElement("i",{className:" fas fa-heartbeat fa-fw"})))),S.a.createElement("ons-tab",{page:"diet.html"},S.a.createElement("input",{type:"radio",style:{display:"none"}}),S.a.createElement("button",{className:"tabbar__button"},S.a.createElement("div",{className:"tabbar__icon"},S.a.createElement("i",{className:" fas fa-mug-hot fa-fw"})))),S.a.createElement("ons-tab",{page:"others.html"},S.a.createElement("input",{type:"radio",style:{display:"none"}}),S.a.createElement("button",{className:"tabbar__button"},S.a.createElement("div",{className:"tabbar__icon"},S.a.createElement("i",{class:"far fa-question-circle"}))))),S.a.createElement("ons-fab",{id:"fab_add_medication",modifier:"mini",position:"bottom right",style:{marginBottom:"50px",display:"none"}},S.a.createElement("ons-icon",{icon:"fa-plus"})),S.a.createElement("ons-fab",{id:"fab_add_vitalsign",modifier:"mini",position:"bottom right",style:{marginBottom:"50px",display:"none"}},S.a.createElement("ons-icon",{icon:"fa-plus"})))}}]),a}(S.a.Component);function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n={url:u+"/v1/basicInfo",method:"GET",timeout:d,headers:{Authorization:m},params:{id:a}};Qe(n,e,t,!1)}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n={url:u+"/v1/illnesses",method:"GET",timeout:d,headers:{Authorization:m},params:{id:a}};Qe(n,e,t,!1)}function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n={url:u+"/v1/medications",method:"GET",timeout:d,headers:{Authorization:m},params:{id:a}};Qe(n,e,t,!1)}function we(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n={url:u+"/v1/vitalSigns",method:"GET",timeout:d,headers:{Authorization:m},params:{id:a}};Qe(n,e,t,!1)}function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n={url:u+"/v1/diet",method:"GET",timeout:d,headers:{Authorization:m},params:{id:a}};Qe(n,e,t,!1)}function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n={url:u+"/v1/others",method:"GET",timeout:d,headers:{Authorization:m},params:{id:a}};Qe(n,e,t,!1)}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n={url:u+"/v1/users/photo",method:"GET",timeout:d,headers:{Authorization:m},params:{id:a}};Qe(n,e,t,!1)}function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a={url:u+"/v1/users/all",method:"GET",timeout:6e4,headers:{Authorization:m}};Qe(a,e,t,!1)}function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n={url:u+"/v1/users",method:"PUT",timeout:d,headers:{Authorization:m,"Content-Type":"application/json"},data:e};Qe(n,t,a,!0)}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t=arguments.length>1?arguments[1]:void 0,a={url:u+"/v1/users/resetPwd",method:"GET",timeout:d,headers:{Authorization:m},params:{email:t}};Qe(a,e,"",!1)}function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){},a={url:u+"/v1/notifications",method:"POST",timeout:d,headers:{Authorization:m,"Content-Type":"application/json"},data:e,params:{type:"simple_email"}};Qe(a,t,"",!1)}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n={url:u+"/v1/users/verifyResetPwd",method:"GET",timeout:d,headers:{Authorization:m},params:{code:t,email:a}};Qe(n,e,"",!1)}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t=arguments.length>1?arguments[1]:void 0,a={url:u+"/v1/users/verify",method:"GET",timeout:d,headers:{Authorization:m},params:{id:t}};Qe(a,e,"",!1)}function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t=arguments.length>1?arguments[1]:void 0,a={url:u+"/v1/users/verificationCode",method:"POST",timeout:d,headers:{Authorization:m,"Content-Type":"application/json"},data:t};Qe(a,e,"",!1)}var Ae=a(286),Pe=a.n(Ae),De=a(288),Fe=a(287),Ie=a.n(Fe),ze=new De.a;function Be(){var e=document.querySelector("#index_email").value,t=document.querySelector("#index_password").value;e&&t?Qe({url:u+"/v1/users",method:"GET",timeout:d,headers:{email:e,password:t,Authorization:m}},(function(e){0!==Object.keys(e).length&&(Je(e),function(){var e=document.querySelector("#navigator");null!=e&&e.pushPage("home.html")}())}),"login"):Ge("Please enter username/password")}function Me(){document.querySelector("#navigator").pushPage("register.html")}function Re(){var e=document.querySelector("#register_email").value,t=document.querySelector("#register_firstname").value,a=document.querySelector("#register_lastname").value,n=document.querySelector("#register_password").value,l=document.querySelector("#register_cpassword").value;(function(e,t,a,n,l){if(_.test(e)){if(0===t.length)Ge("First Name is blank");else if(0===a.length)Ge("Last Name is blank");else if(Ue(n,l))return!0}else Ge("Invalid Email Address");return!1})(e,t,a,n,l)&&Qe({url:u+"/v1/users",method:"POST",timeout:d,headers:{"Content-Type":"application/json",Authorization:m},data:{email:e,password:n,firstname:t,lastname:a,type:"user",enabled:!1}},(function(t){if(0!==Object.keys(t).length){var a={email:e,enabled:!0};Te((function(e){Ne({to:a.email,from:w,subject:"Account Verification Request",body:"To proceed please click the link below:\n\n"+e.callbackUrl+"\n\nPlease note that this request is only valid for 1 hour. Please ignore this email if you did not request for account verification."}),Ge("Account successfully created. Please check your email to verify your account.")}),a),He()}}),"register")}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.querySelector("#navigator");null!=e&&e.popPage()}function Ve(){document.querySelector("#confirm-dialog").show()}function Ue(e,t){if(0===e.length)Ge("Password is blank");else if(0===t.length)Ge("Confirm Password is blank");else if(e.length<8)Ge("Password must be at least 8 characters");else{if(e===t)return!0;Ge("Passwords don't match")}return!1}function Qe(){return We.apply(this,arguments)}function We(){return(We=Object(c.a)(l.a.mark((function e(){var t,a,n,i,r,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},a=o.length>1&&void 0!==o[1]?o[1]:function(e){},n=o.length>2&&void 0!==o[2]?o[2]:"",i=!(o.length>3&&void 0!==o[3])||o[3],null!=(r=document.querySelector("#"+n+"_pb"))&&(r.style.display="block"),e.next=8,Pe()(t).then((function(e){e.data.error?(i&&Ge(e.data.error),a({})):a(e.data),null!=r&&(r.style.display="none")})).catch((function(e){Ge(""+e),null!=r&&(r.style.display="none")}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;I.a.notification.toast(e,{timeout:t,animation:"lift"})}function Ye(e){return null!=e&&""!==e?e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate():null}function Ze(e){return null!=e&&""!==e?(e.getHours()+"").padStart(2,"0")+":"+(e.getMinutes()+"").padStart(2,"0"):null}function Xe(e){return null!=e&&""!==e?new Date(e).toDateString():null}function Ke(e){if(null!=e&&""!==e){var t=new Date,a=e.split(":")[0],n=e.split(":")[1];return t.setHours(a),t.setMinutes(n),t.setSeconds(0),t.toLocaleTimeString()}return null}function Je(e){var t={email:e.email,firstname:e.firstname,lastname:e.lastname,access_token:e.access_token,type:e.type,enabled:e.enabled,thirdPartyLogin:$e(e.thirdPartyLogin,null),application:$e(e.application,null)},a=new Date;a.setDate(a.getDate()+7),ze.set(g,t,{path:f,expires:a,sameSite:p})}function $e(e,t){return e&&void 0!==e&&null!=e&&""!==(e+"").trim()?e:t}function et(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?null:decodeURIComponent(t[1].replace(/\+/g," "))}var tt=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).responseFacebook=function(e){if(null!=e.accessToken){var t={email:e.email,firstname:e.name,lastname:"",type:"user",enabled:!0,thirdPartyLogin:!0,application:"facebook"};je((function(e){e.exists?e.thirdPartyLogin?(Je(t),n.nav.pushPage("home.html")):I.a.notification.alert("Your Facebook email address has already been registered for this application. Please sign in with your email and password.").then((function(e){window.location.href="https://www.tes8.link/webapp/lifestyleclinic"})):I.a.notification.confirm("Your Facebook email address is not registered or enabled for this application. Do you want to proceed with the registration?").then((function(e){1===e?Te((function(e){Ne({to:t.email,from:w,subject:"Facebook Account Verification Request",body:"To proceed please click the link below:\n\n"+e.callbackUrl+"\n\nPlease note that this request is only valid for 1 hour. Please ignore this email if you did not request for account verification."}),Ge("Please check your email to proceed")}),t):window.location.href="https://www.tes8.link/webapp/lifestyleclinic"}))}),e.email)}},n.handleLogout=function(){document.querySelector("#confirm-dialog").hide(),ze.remove(g,{path:f}),n.nav.resetToPage("login.html",{pop:!0}).then((function(){window.location.href="https://www.tes8.link/webapp/lifestyleclinic",n.renderFacebookLogin(),n.renderForgotPassword()}))},n.renderFacebookLogin=function(){var e=document.querySelector("div#facebook_loginBtn");null!=e&&x.a.render(S.a.createElement(Ie.a,{appId:"607869309830124",autoLoad:!1,fields:"name,email",size:"small",callback:n.responseFacebook,icon:"fa-facebook"}),e)},n.renderForgotPassword=function(){var e=document.querySelector("#forgotPasswordBtn");null!=e&&x.a.render(S.a.createElement(lt,null),e)},n.state={activeLogin:null!=ze.get(g)},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;null!=this.nav&&(this.nav.addEventListener("postpush",(function(t){if(t.enterPage.matches("#login")&&(e.renderFacebookLogin(),e.renderForgotPassword()),t.enterPage.matches("#home")){var a=document.querySelector("div#confirm_logout");null!=a&&x.a.render(S.a.createElement(at,{message:"Are you sure you want to log out?",onOk:e.handleLogout}),a);var n=document.querySelector("#badge");null!=n&&null!=ze.get(g)&&Ce((function(e){x.a.render(S.a.createElement(nt,{accountInfo:ze.get(g),picture:e.picture}),n)}),null,ze.get(g).email);var l=document.querySelector("#admin_menu");null!=ze.get(g)&&"user"===ze.get(g).type?l.style.display="none":null!=ze.get(g)&&"admin"===ze.get(g).type&&(l.style.display="block")}})),this.nav.addEventListener("postpop",(function(e){if(e.leavePage.matches("#user_profile")){var t=document.querySelector("#pull-hook");null!=t&&t.dispatchEvent(new Event("changestate"))}})))}},{key:"render",value:function(){var e=this,t=this.state.activeLogin?"home.html":"login.html";return S.a.createElement(S.a.Fragment,null,S.a.createElement("ons-navigator",{swipeable:!0,id:"navigator",page:t,ref:function(t){e.nav=t}}))}}]),a}(S.a.Component),at=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).handleCancel=function(t){e.dialog.hide()},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return S.a.createElement("ons-alert-dialog",{id:"confirm-dialog",style:{position:"fixed"},modifier:"rowfooter",ref:function(t){e.dialog=t}},S.a.createElement("div",{className:"alert-dialog-title"},"Confirm"),S.a.createElement("div",{className:"alert-dialog-content"},this.props.message),S.a.createElement("div",{className:"alert-dialog-footer"},S.a.createElement("ons-alert-dialog-button",{onClick:this.handleCancel},"Cancel"),S.a.createElement("ons-alert-dialog-button",{onClick:this.props.onOk},"OK")))}}]),a}(S.a.Component),nt=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={accountInfo:e.accountInfo,picture:e.picture},n}return Object(r.a)(a,[{key:"render",value:function(){var e=null!=this.state.picture?this.state.picture:v;return S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{className:"left"},S.a.createElement("img",{className:"list-item--material__thumbnail",id:"badge_pic",src:e,alt:"Profile Pic",style:{width:"80px",height:"80px"},onClick:function(){ve("profile.html")}})),S.a.createElement("div",{className:"left"},S.a.createElement("b",null,$e(this.state.accountInfo.firstname,"Firstname")+" "+$e(this.state.accountInfo.lastname,""))))}}]),a}(S.a.Component),lt=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).handlePopoverClick=function(t){e.popover.show(t.target)},e.handleSubmit=function(t){_.test(e.email.value)?(e.popover.hide(),je((function(t){t.exists?Oe((function(t){Ne({to:e.email.value,from:w,subject:"Change Password Request",body:"To proceed please click the link below:\n\n"+t.callbackUrl+"\n\nPlease note that this request is only valid for 1 hour. Please ignore this email if you did not request for any password change."}),Ge("Please check your email to proceed")}),e.email.value):Ge("Email address is unverified or disabled. Please contact administrator.")}),e.email.value)):Ge("Invalid Email Address")},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return S.a.createElement(S.a.Fragment,null,S.a.createElement("ons-button",{modifier:"quiet",onClick:this.handlePopoverClick},"Forgot Password?"),S.a.createElement("ons-popover",{direction:"down",id:"popover",cancelable:!0,ref:function(t){e.popover=t}},S.a.createElement("div",{align:"center"},S.a.createElement("p",null,S.a.createElement("ons-input",{placeholder:"Email",modifier:"material",ref:function(t){e.email=t}}),S.a.createElement("ons-button",{modifier:"large--quiet",onClick:this.handleSubmit},"Submit")))))}}]),a}(S.a.Component),it=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).handleSubmit=function(t){Ue(e.passwd.value,e.cpasswd.value)&&Le((function(t){t.verified?qe({email:e.props.email,enabled:!0,password:e.passwd.value},(function(t){Ge("Successfully changed password"),Ne({to:e.props.email,from:w,subject:"Change Password Successful",body:"You have successfully changed your password."}),setTimeout((function(){window.location.href="https://www.tes8.link/webapp/lifestyleclinic"}),5e3)})):Ge("Failed to verify this request")}),e.props.code,e.props.email)},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{style:{marginTop:"50%"}},S.a.createElement("ons-card",null,S.a.createElement("ons-list",null,S.a.createElement("ons-list-header",null,"Change Password"),S.a.createElement("div",{align:"center"},S.a.createElement("p",null,S.a.createElement("ons-input",{type:"password",placeholder:"New Password",modifier:"material",ref:function(t){e.passwd=t}})),S.a.createElement("p",null,S.a.createElement("ons-input",{type:"password",placeholder:"Confirm Password",modifier:"material",ref:function(t){e.cpasswd=t}})),S.a.createElement("p",null,S.a.createElement("ons-button",{onClick:this.handleSubmit},"Submit")))))))}}]),a}(S.a.Component),rt=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,l={url:u+"/v1/users/verifyAccount",method:"GET",timeout:d,headers:{Authorization:m},params:{email:t,code:a,create:n}};Qe(l,e,"",!1)}((function(t){var a;t.validated?(a="Account has been successfully verified",Ne({to:e.props.email,from:w,subject:"Account Verification Successful",body:"You have successfully verified your account. You may now be able to login."})):a="Failed to verify account",I.a.notification.alert(a).then((function(e){window.location.href="https://www.tes8.link/webapp/lifestyleclinic"}))}),this.props.email,this.props.code,!0),S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{align:"center"}))}}]),a}(S.a.Component);window.onload=function(){var e=et("op"),t=et("email"),a=et("code");"changePassword"===e&&null!=t&&null!=a?x.a.render(S.a.createElement(it,{email:t,code:a}),document.querySelector("div#root")):"verifyAccount"===e&&null!=t&&null!=a?x.a.render(S.a.createElement(rt,{email:t,code:a}),document.querySelector("div#root")):x.a.render(S.a.createElement(tt,null),document.querySelector("div#root"))}}},[[289,1,2]]]);
//# sourceMappingURL=main.c2c9909a.chunk.js.map